<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Marios Zindilis - Preliminaries</title>
  <meta name="description" content="Here's some preliminaries worth noting.">

  <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css"
    integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/static/css/zindilis.com.css">
  <link rel="canonical" href="https://zindilis.com/books/ad-hoc-data-analysis-from-the-unix-command-line/preliminaries/">
  <link rel="alternate" type="application/rss+xml" title="Marios Zindilis" href="https://zindilis.com/feed.xml">
  
  <meta property="og:title" content="Preliminaries">


  <meta property="og:type" content="website">



</head>


<body>
  <header class="site-header">
  <nav class="navbar navbar-fixed-top" style="border-bottom: 1px solid; background-color: white;">
    <div class="container">
      <a class="navbar-brand fload-md-left float-xs-none" href="/">Marios Zindilis</a>
      <ul class="nav navbar-nav float-md-right">
        <li class="nav-item">
          <a class="nav-link" href="/docs/">Docs</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/projects/">Projects</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about/">About</a>
        </li>
      </ul>
    </div>
  </nav>
</header>


  <div class="container">
        <article class="post">

  <header class="post-header">
    <h1 class="post-title">Preliminaries</h1>
  </header>

  <div class="post-content">
    <p class="lead">
Here's some preliminaries worth noting.
</p>

<h2 id="formatting">Formatting</h2>

<p>These typesetting conventions will be used when presenting example interactions 
at the command line:</p>

<p>You type:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span><span class="nb">command </span>argument1 argument2 argument3</code></pre></figure>

<p>You get:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>output line 1 
output line 2 
output line 3 
[...]
</code></pre>
</div>

<p>The <code class="highlighter-rouge">$</code> is the shell prompt. What you type is shown in the <strong>You type</strong> section
and command output is shown in the <strong>You get</strong> section.</p>

<h2 id="example-data">Example data</h2>

<p>I will use the following sample files in the examples.</p>

<h3 id="the-unix-password-file">The Unix password file</h3>

<p>The password file can be found at <code class="highlighter-rouge">/etc/passwd</code>. Every user on the system has 
one line (record) in the file. Each record has six fields separated by colon 
(<code class="highlighter-rouge">:</code>) characters. The fields are username, encrypted password, userid, default 
group, home directory and default shell. We can look at the first few lines 
with the <code class="highlighter-rouge">head</code> command, which prints just the first few lines of a file. 
Correspondingly, the <code class="highlighter-rouge">tail</code> command prints just the last few lines.</p>

<p>You type:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>head -5 /etc/passwd </code></pre></figure>

<p>You get:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>root:x:0:0:root:/:/bin/bash 
bin:x:1:1:bin:/bin:/sbin/nologin 
daemon:x:2:2:daemon:/sbin:/sbin/nologin 
adm:x:3:4:adm:/var/adm:/sbin/nologin 
lp:x:4:7:lp:/var/spool/lpd:/sbin/nologin
</code></pre>
</div>

<h3 id="census-data">Census data</h3>

<p>The US Census releases Public Use Microdata Samples (PUMS) on <a href="http://www.census.gov/" title="US Census">its website</a>. 
We will use the 1% sample of Washington state’s data, the <code class="highlighter-rouge">file pums_53.dat</code>, 
which can be downloaded <a href="http://www2.census.gov/census_2000/datasets/PUMS/OnePercent/Washington/">here</a>.</p>

<p>You type:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>head -2 pums_53.dat </code></pre></figure>

<p>You get:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>H000011715349 53010 99979997 70 15872 639800 120020103814700280300000300409 
02040201010103020 0 0 014000000100001000 0100650020 0 0 0 0 0000 0 0 0 0 0 
05000000000004400000000010 76703521100000002640000000000
P00001170100001401000010420010110000010147030400100012005003202200000 005301000
000300530 53079 53 7602 76002020202020202200000400000000000000010005 30 53010
70 9997 99970101006100200000001047904431M 701049-20116010 520460000000001800000
00000000000000000000000000000000000000001800000018000208
</code></pre>
</div>

<p><strong>Important note</strong>: The format of this data file is described in an excel 
spreadsheet that can be downloaded <a href="http://ftp2.census.gov/census_2000/datasets/PUMS/FivePercent/5%25_PUMS_record_layout.xls">here</a>.</p>

<h2 id="developer-efficiency-vs-computer-efficiency">Developer efficiency vs. computer efficiency</h2>

<p>The techniques discussed here are usually extremely efficient in terms of 
developer time, but generally less efficient in terms of compute resources 
(CPU, I/O, memory). This kind of brute force and ignorance may be inelegant, 
but when you don’t yet understand the scope of your problem, it is usually best 
to spend 30 seconds writing a program that will run for 3 hours than vice 
versa.</p>

<h2 id="the-online-manual">The online manual</h2>

<p>The <code class="highlighter-rouge">man</code> command displays information about a given command (colloquially 
referred to as the command’s “man page”). The online man pages are an extremely 
valuable resource; if you do any serious work with the commands presented here, 
you’ll eventually read all their man pages top to bottom. In Unix literature 
the man page for a command (or function, or file) is typically referred to as 
<code class="highlighter-rouge">command(n)</code>. The number <code class="highlighter-rouge">n</code> specifies a section of the manual to disambiguate 
entries which exist in multiple sections. So, <code class="highlighter-rouge">passwd(1)</code> is the man page for 
the <code class="highlighter-rouge">passwd</code> <em>command</em>, and <code class="highlighter-rouge">passwd(5)</code> is the man page for the <code class="highlighter-rouge">passwd</code> 
<em>file</em>. On a Linux system you ask for a certain section of the manual by giving 
the section number as the first argument as in <code class="highlighter-rouge">man 5 passwd</code>. Here’s what the 
<code class="highlighter-rouge">man</code> command has to say about itself:</p>

<p>You type:</p>

<figure class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="gp">$ </span>man man </code></pre></figure>

<p>You get:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>man(1)                                                        man(1) 
NAME
       man - format and display the on-line manual pages 
       manpath - determine user's search path for man pages 

SYNOPSIS 
       man [-acdfFhkKtwW] [--path] [-m system] [-p string] [-C 
       config_file] [-M pathlist] [-P pager] [-S section_list] 
       [section] name ... 

DESCRIPTION 
       man formats and displays the on-line manual pages. If you 
       specify section, man only looks in that section of the 
       manual. name is normally the name of the manual page, 
       which is typically the name of a command, function, or 
       file. [...]
</code></pre>
</div>


  </div>

</article>

  </div>

  <footer id="site-footer" class="footer-distributed">
  <div class="container">
    <div class="footer-right">
      <a href="/feed.xml" title="Marios Zindilis RSS Feed">
        <i class="fa fa-rss" aria-hidden="true"></i><span class="sr-only">Marios Zindilis RSS Feed</span></a>
      <a href="https://www.facebook.com/zindilis" title="Marios Zindilis Facebook">
        <i class="fa fa-facebook" aria-hidden="true"></i><span class="sr-only">Marios Zindilis Facebook</span></a>
      <a href="https://twitter.com/MariosZindilis" title="Marios Zindilis Twitter">
        <i class="fa fa-twitter" aria-hidden="true"></i><span class="sr-only">Marios Zindilis Twitter</span></a>
      <a href="https://www.linkedin.com/in/zindilis" title="Marios Zindilis LinkedIn Profile">
        <i class="fa fa-linkedin" aria-hidden="true"></i><span class="sr-only">Marios Zindilis LinkedIn Profile</span></a>
      <a href="https://github.com/marios-zindilis" title="Marios Zindilis GitHub Page">
        <i class="fa fa-github" aria-hidden="true"></i><span class="sr-only">Marios Zindilis GitHub Page</span></a>
    </div>

    <div class="footer-left">
      <p class="footer-links">
        <a href="/">Home</a> · 
        <a href="/docs/">Docs</a> ·
        <a href="/projects/">Projects</a> ·
        <a href="/about/">About</a>
      </p>
      <p>Marios Zindilis</p>
    </div>
  </div>
</footer>

      <script
      src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"
      integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7"
      crossorigin="anonymous"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js"
      integrity="sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8"
      crossorigin="anonymous"></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js"
      integrity="sha384-BLiI7JTZm+JWlgKa0M0kGRpJbF2J8q+qreVrKBC47e3K6BW78kGLrCkeRX6I9RoK"
      crossorigin="anonymous"></script>
    <script type="text/javascript">
      // set padding-bottom of body to height of footer.site-footer:
      document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      // http://stackoverflow.com/a/14570614
      var observeDOM = (function(){
        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver,
          eventListenerSupported = window.addEventListener;

        return function(obj, callback){
          if( MutationObserver ){
          // define a new observer
            var obs = new MutationObserver(function(mutations, observer){
              if( mutations[0].addedNodes.length || mutations[0].removedNodes.length )
              callback();
            });
            // have the observer observe foo for changes in children
            obs.observe( obj, { childList:true, subtree:true });
          }
          else if( eventListenerSupported ){
            obj.addEventListener('DOMNodeInserted', callback, false);
            obj.addEventListener('DOMNodeRemoved', callback, false);
          }
        }
      })();
      observeDOM(document.getElementById('site-footer') ,function(){
        document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      });
    </script>


  </body>
</html>
