<!doctype html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
  
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="/static/css/zindilis.com.css">
    <title>web.py Subapplications</title>

    
      <meta name="description" content="Notes and links on web.py subapplications">
      
      <meta property="og:title" content="web.py Subapplications" />
<meta property="og:url" content="https://zindilis.com/posts/web-py-subapplications/" />
<meta property="og:description" content="Notes and links on web.py subapplications" />
<meta property="og:type" content="article" />
<meta property="og:article:published_time" content="2014-04-22" />
    
  </head>
  <body class="d-flex flex-column h-100">
    <nav id="top-nav" class="navbar navbar-expand-lg fixed-top bg-white">
      <div class="container">
        <a class="navbar-brand" href="/">Marios Zindilis</a>
      </div>

      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="/projects/">Projects</a>
          </li>
        </ul>
      </div>
    </nav>

    <main class="flex-shrink-0">
      
<div class="container">
    <div class="row">
        <article class="col">
            <header>
                <h1 class="mt-4">web.py Subapplications</h1>
            </header>
            <p>To better organize your source code in a web.py application, you can break it 
down in subapplications. Those subapplications will be imported as Python 
modules in your main web.py script (which, in the below examples is 
<code>index.py</code>).</p>

<h2>Troubleshooting</h2>

<h3><code>AttributeError: 'module' object has no attiribute ...</code></h3>

<p>If you get the error:</p>

<pre><code>AttributeError: 'module' object has no attribute 'app'
</code></pre>

<p>...then you might be running into Python naming collissions. Check if you have 
given one of your subapplications the same name as an existing Python module. 
For example, you shouldn't name a subapplication <code>user</code>, since that is an 
existing Python module.</p>

<h3><code>ImportError: No module named ...</code></h3>

<p>If you get the error:</p>

<pre><code>ImportError: No module named subapp
</code></pre>

<p>... (where <code>subapp</code> is the name of your subapplication), then Python cannot 
<code>import</code> the subapplication as a module. As a first step, create an empty file 
named <code>__init__.py</code> in the same directory as your subapplication, and try 
again. If you still get that error, and assuming your subapplications are in 
the same directory as your main application, you can try this ugly hack in the 
very beginning of your main application script:</p>

<div class="codehilite"><pre><span></span><code><span class="kn">import</span> <span class="nn">inspect</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="n">sys</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">abspath</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">getfile</span><span class="p">(</span><span class="n">inspect</span><span class="o">.</span><span class="n">currentframe</span><span class="p">()))))</span>
</code></pre></div>

            <footer>
                <p>Posted on 2014-04-22</p>
            </footer>
        </article>
    </div> <!-- .row -->
  </div> <!-- .container -->

    </main>

    <footer id="site-footer" class="footer mt-auto py-3">
      <div class="container d-flex justify-content-between">
        <div>Marios Zindilis</div>
        <div>
          powered by <a href="https://github.com/marios-zindilis/phlooph">phlooph</a>
        </div>
        <div>
            <a href="https://www.linkedin.com/in/zindilis" title="Marios Zindilis LinkedIn Profile">LinkedIn</a> &middot; 
            <a href="https://github.com/marios-zindilis" title="Marios Zindilis GitHub Page">GitHub</a> &middot; 
            <a href="/feeds/feed.xml">RSS</a>
        </div>
      </div>
    </footer>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
  </body>
</html>