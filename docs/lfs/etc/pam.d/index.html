<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Marios Zindilis - /etc/pam.d/</title>
  <meta name="description" content="Files in /etc/pam.d/ are configurations for PAM stacks. The generic syntax of a line in those files is:">
  <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
    integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/static/css/zindilis.com.css">
  <link rel="canonical" href="https://zindilis.com/docs/lfs/etc/pam.d/">
  <link rel="alternate" type="application/rss+xml" title="Marios Zindilis" href="https://zindilis.com/feed.xml">
  
  <meta property="og:title" content="/etc/pam.d/">


  <meta property="og:type" content="article">


  





</head>


<body>
  <header class="mb-4">
  <nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="/">Marios Zindilis</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-link-items" aria-controls="navbar-link-items" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbar-link-items">
        <div class="navbar-nav ml-auto">
          <a class="nav-item nav-link" style="color:white" href="/docs/">Docs</a>
          <a class="nav-item nav-link" style="color:white" href="/projects/">Projects</a>
          <a class="nav-item nav-link" style="color:white" href="/about/">About</a>
        </div>
      </div>
    </div>
  </nav>
</header>


  <div class="container">
        <article itemscope itemtype="http://schema.org/Article">

  <header>
    <h1 itemprop="name headline">/etc/pam.d/</h1>
  </header>

  <section itemprop="articleBody">
    <p>Files in <code>/etc/pam.d/</code> are configurations for <abbr title='Pluggable 
Authentication Modules'>PAM</abbr> stacks. The generic syntax of a line 
in those files is:</p>
<div class="highlight"><pre><code class="language-" data-lang="">management_group control_flag module [options]
</code></pre></div>
<p>More on <code>management_group</code> and <code>control_flag</code> further in this article. 
The <code>module</code> is the name of the PAM file to be used. The <code>options</code> are 
not required, and are either generic ones or module-specific.</p>

<h2><code>management_group</code></h2>

<p>The value of <code>management_group</code> can be one of:</p>

<ul>
<li>  <code>auth</code> (for authentication)</li>
<li>  <code>account</code> (for account management)</li>
<li>  <code>session</code> (for session management)</li>
<li>  <code>password</code> (for password managemet)</li>
</ul>

<h3><code>auth</code></h3>

<p>The <code>auth</code> group is used for user authentication, and is mostly used by 
tools like <code>login</code> for CLI authentication or XDM or similar for logging 
in to a desktop environment.</p>

<h3><code>passwd</code></h3>

<p>The <code>passwd</code> group is used for user password management, and is most 
likely utilized by tools like <code>passwd</code>.</p>

<h3><code>session</code></h3>

<p>The <code>session</code> group manages user sessions. It may verify the existence 
of a user&#39;s home directory or even create it if it does not exist, it 
can mount partitions that are specific to a user, etc. It will also 
clean up the user&#39;s session after he/she has logged out.</p>

<h2><code>control_flag</code></h2>

<p>The value of <code>control_flag</code> can be one of:</p>

<ul>
<li>  <code>requisite</code></li>
<li>  <code>required</code></li>
<li>  <code>optional</code></li>
<li>  <code>sufficient</code></li>
</ul>

<h3><code>requisite</code></h3>

<p>The <code>requisite</code> flag makes a check necessary but not enough. This means 
that a <code>requisite</code> check <strong>must</strong> succeed for the stack to go on, but 
the success of the entire stack depends on further checks. In 
pseudocode:</p>
<div class="highlight"><pre><code class="language-" data-lang="">IF SUCCESS:
    GOTO NEXT LINE
ELSE:
    FAIL
</code></pre></div>
<h3><code>required</code></h3>

<p>The <code>required</code> flag makes a check necessary for the success of the 
entire stack, while it allows for the execution of the next checks. In 
pseudocode:</p>
<div class="highlight"><pre><code class="language-" data-lang="">IF SUCCESS:
    GOTO NEXT LINE
ELSE:
    GOTO NEXT LINE
FINALLY:
    FAIL
</code></pre></div>
<h3><code>sufficient</code></h3>

<p>The <code>sufficient</code> flag makes a check stop the execution of the stack if 
that check succeeds, otherwise execution continues. In pseudocode:</p>
<div class="highlight"><pre><code class="language-" data-lang="">IF SUCCESS:
    STOP STACK EXECUTION
ELSE:
    GOTO NEXT LINE
</code></pre></div>
<h3><code>optional</code></h3>

<p>The <code>optional</code> flag does not affect the execution of the stack, unless 
the check is the last one in the stack, in which case the success of 
the entire stack is the same as the success of the last check. In 
pseudocode:</p>
<div class="highlight"><pre><code class="language-" data-lang="">IF SUCCESS:
    GOTO NEXT LINE
ELSE:
    GOTO NEXT LINE
</code></pre></div>
<p>Note that the pseudocode above does not include the exception that 
happens when the <code>optional</code> check is that last in the stack.</p>

  </section>

  <footer id="post-footer">
  
  
    
  

  <span itemprop="author" itemscope itemtype="http://schema.org/Person">
  
    &middot; Author: <span itemprop="name">Marios Zindilis</span>
  
  </span>
  </footer>
</article>

  </div>

  <footer id="site-footer" class="footer-distributed">
  <div class="container">
    <div class="footer-right">
      <a href="/feed.xml" title="Marios Zindilis RSS Feed">
        <i class="fa fa-rss" aria-hidden="true"></i><span class="sr-only">Marios Zindilis RSS Feed</span></a>
      <a href="https://www.linkedin.com/in/zindilis" title="Marios Zindilis LinkedIn Profile">
        <i class="fa fa-linkedin" aria-hidden="true"></i><span class="sr-only">Marios Zindilis LinkedIn Profile</span></a>
      <a href="https://github.com/marios-zindilis" title="Marios Zindilis GitHub Page">
        <i class="fa fa-github" aria-hidden="true"></i><span class="sr-only">Marios Zindilis GitHub Page</span></a>
    </div>

    <div class="footer-left">
      <p class="footer-links">
        <a href="/">Home</a> · 
        <a href="/docs/">Docs</a> ·
        <a href="/projects/">Projects</a> ·
        <a href="/about/">About</a>
      </p>
      <p>Marios Zindilis</p>
    </div>
  </div>
</footer>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script type="text/javascript">
      // set padding-bottom of body to height of footer.site-footer:
      document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      // http://stackoverflow.com/a/14570614
      var observeDOM = (function(){
        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver,
          eventListenerSupported = window.addEventListener;

        return function(obj, callback){
          if( MutationObserver ){
          // define a new observer
            var obs = new MutationObserver(function(mutations, observer){
              if( mutations[0].addedNodes.length || mutations[0].removedNodes.length )
              callback();
            });
            // have the observer observe foo for changes in children
            obs.observe( obj, { childList:true, subtree:true });
          }
          else if( eventListenerSupported ){
            obj.addEventListener('DOMNodeInserted', callback, false);
            obj.addEventListener('DOMNodeRemoved', callback, false);
          }
        }
      })();
      observeDOM(document.getElementById('site-footer') ,function(){
        document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      });
    </script>


  </body>
</html>
