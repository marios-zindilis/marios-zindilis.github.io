<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Marios Zindilis - Αποθήκευση τηλεφωνικών αριθμών σε MySQL</title>
  <meta name="description" content="Γράφω πρώτα το συμπέρασμα, για όποιον βαριέται να διαβάσει το υπόλοιπο κείμενο:">
  <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
    integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/static/css/zindilis.com.css">
  <link rel="canonical" href="https://zindilis.com/blog/2011/03/16/%CE%B1%CF%80%CE%BF%CE%B8%CE%AE%CE%BA%CE%B5%CF%85%CF%83%CE%B7-%CF%84%CE%B7%CE%BB%CE%B5%CF%86%CF%89%CE%BD%CE%B9%CE%BA%CF%8E%CE%BD-%CE%B1%CF%81%CE%B9%CE%B8%CE%BC%CF%8E%CE%BD-%CF%83%CE%B5-mysql.el.html">
  <link rel="alternate" type="application/rss+xml" title="Marios Zindilis" href="https://zindilis.com/feed.xml">
  
  <meta property="og:title" content="Αποθήκευση τηλεφωνικών αριθμών σε MySQL">


  <meta property="og:type" content="article">

  <meta property="og:article:published_time" content="2011-03-16">


  
    <meta property="og:article:modified_time" content="2011-03-16">
  





</head>


<body>
  <header class="mb-4">
  <nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="/">Marios Zindilis</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-link-items" aria-controls="navbar-link-items" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbar-link-items">
        <div class="navbar-nav ml-auto">
          <a class="nav-item nav-link" style="color:white" href="/docs/">Docs</a>
          <a class="nav-item nav-link" style="color:white" href="/projects/">Projects</a>
          <a class="nav-item nav-link" style="color:white" href="/about/">About</a>
        </div>
      </div>
    </div>
  </nav>
</header>


  <div class="container">
        <article itemscope itemtype="http://schema.org/BlogPosting">

  <header>
    <h1 itemprop="name headline">Αποθήκευση τηλεφωνικών αριθμών σε MySQL</h1>
    <p class="post-meta">
      <time datetime="2011-03-16T00:00:00+00:00" itemprop="datePublished">2011-03-16</time>
      • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Marios Zindilis</span></span>
    </p>
  </header>

  <section itemprop="articleBody">
    <p>Γράφω πρώτα το συμπέρασμα, για όποιον βαριέται να διαβάσει το υπόλοιπο κείμενο:</p>

<blockquote class="blockquote">Αποθηκεύστε τους τηλεφωνικούς αριθμούς ως 
<code>VARCHAR(20)</code>, εκτός και αν υπάρχει σημαντικός λόγος γιατί να κάνετε 
κάτι διαφορετικό. Επιπλέον, χρησιμοποιήστε κώδικα σε επίπεδο εφαρμογής για 2 
ενέργειες: Α. για να αφαιρέσετε από την είσοδο του χρήστη οποιουσδήποτε μη 
αριθμητικούς χαρακτήρες, πριν από την εισαγωγή στη βάση (π.χ. παύλες, κενά, 
παρενθέσεις), και Β. για να μορφοποιήσετε τον αριθμό με μη αριθμητικούς 
χαρακτήρες, πριν από την έξοδο στο χρήστη, ώστε να βελτιώσετε την 
αναγνωσιμότητα (π.χ. με παύλες, κενά, παρενθέσεις).</blockquote>

<p>Κατ&#39; αρχήν, το <strong>μήκος=20</strong> προέρχεται από τη <a href="http://en.wikipedia.org/wiki/E.164" title="E.164 Recommendation"> σύσταση Ε.164 του ITU-T</a>, η οποία καθορίζει το μέγιστο μήκος των τηλεφωνικών αριθμών σε 15 αριθμητικούς χαρακτήρες, μη συμπεριλαμβανομένου του <a href="http://en.wikipedia.org/wiki/International_call_prefix" title="Λίστα με τα προθέματα διεθνών κλήσεων">προθέματος διεθνούς κλήσης</a>, το μέγιστο από τα οποία είναι 5 χαρακτήρες.</p>

<p>Ο λόγος που προτείνω το <strong>VARCHAR</strong> αντί κάποιου αριθμητικού τύπου της MySQL είναι γιατί:
<ol><li>Οι τηλεφωνικοί αριθμοί, δεν λογίζονται ως ακέραιοι, με την έννοια ότι:<ul><li>δεν πρόκειται ποτέ να εκτελέσετε πάνω τους αριθμητικές πράξεις, και</li><li>δεν έχει νόημα η ταξινόμησή τους κατά μέγεθος, δηλαδή δεν νοείται «μεγαλύτερος» και «μικρότερος» αριθμός τηλεφώνου.</li></ul><li>Σε μερικές χώρες, ένας τοπικός αριθμός τηλεφώνου μπορεί να ξεκινάει από μηδέν. Μερικές (ή όλες;) μηχανές αποθήκευσης στη MySQL θα αποκόψουν τα μηδενικά που προηγούνται ενός αριθμού, όταν αυτός αποθηκεύεται ως ακέραιος.</li><li>Τέλος, η διαφορά στο μέγεθος της τελικής αποθηκευμένης πληροφορίας, είναι ασήμαντη, για τόσο μικρά κομμάτια πληροφορίας.</li></ol></p>

<p>Χρησιμοποιώντας VARCHAR(20) για αποθήκευση τηλεφωνικών αριθμών, <strong>υποχρεωτικά</strong> θα χρησιμοποιήσετε επιπλεόν κώδικα σε επίπεδο εφαρμογής για να καθαρίσετε την είσοδο του χρήστη από μη αριθμητικούς χαρακτήρες (αλλιώς μπορεί να ξεφύγει στο μήκος), και <strong>προεραιτικά</strong> για να ομορφύνετε τον τηλεφωνικό αριθμό στην έξοδο.</p>

<p>Σημειώστε ότι, παρόμοιο σκεπτικό ισχύει και την αποθήκευση Ταχυδρομικού Κώδικα, πόσω μάλλον που μερικές χώρες (π.χ. Ηνωμένο Βασίλειο, Καναδάς) χρησιμοποιούν και γράμματα του αλφαβήτου στους Τ.Κ.</p>

  </section>

  <footer id="post-footer">
  
    First Published: <time datetime="2011-03-16T00:00:00+00:00" itemprop="datePublished">2011-03-16</time>
  
  
    &middot; Last modified: <span itemprop="dateModified">2011-03-16</span>
  
  
    &middot; License: <a href="https://creativecommons.org/licenses/by-sa/4.0/" itemprop="license" title="Creative Commons Attribution-ShareAlike 4.0 International">CC-BY-SA-4.0</a>
  
  </footer>

</article>

  </div>

  <footer id="site-footer" class="footer-distributed">
  <div class="container">
    <div class="footer-right">
      <a href="/feed.xml" title="Marios Zindilis RSS Feed">
        <i class="fa fa-rss" aria-hidden="true"></i><span class="sr-only">Marios Zindilis RSS Feed</span></a>
      <a href="https://www.linkedin.com/in/zindilis" title="Marios Zindilis LinkedIn Profile">
        <i class="fa fa-linkedin" aria-hidden="true"></i><span class="sr-only">Marios Zindilis LinkedIn Profile</span></a>
      <a href="https://github.com/marios-zindilis" title="Marios Zindilis GitHub Page">
        <i class="fa fa-github" aria-hidden="true"></i><span class="sr-only">Marios Zindilis GitHub Page</span></a>
    </div>

    <div class="footer-left">
      <p class="footer-links">
        <a href="/">Home</a> · 
        <a href="/docs/">Docs</a> ·
        <a href="/projects/">Projects</a> ·
        <a href="/about/">About</a>
      </p>
      <p>Marios Zindilis</p>
    </div>
  </div>
</footer>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script type="text/javascript">
      // set padding-bottom of body to height of footer.site-footer:
      document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      // http://stackoverflow.com/a/14570614
      var observeDOM = (function(){
        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver,
          eventListenerSupported = window.addEventListener;

        return function(obj, callback){
          if( MutationObserver ){
          // define a new observer
            var obs = new MutationObserver(function(mutations, observer){
              if( mutations[0].addedNodes.length || mutations[0].removedNodes.length )
              callback();
            });
            // have the observer observe foo for changes in children
            obs.observe( obj, { childList:true, subtree:true });
          }
          else if( eventListenerSupported ){
            obj.addEventListener('DOMNodeInserted', callback, false);
            obj.addEventListener('DOMNodeRemoved', callback, false);
          }
        }
      })();
      observeDOM(document.getElementById('site-footer') ,function(){
        document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      });
    </script>


  </body>
</html>
