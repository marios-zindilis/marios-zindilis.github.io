<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Marios Zindilis - Αποθήκευση τηλεφωνικών αριθμών σε MySQL</title>
  <meta name="description" content="Γράφω πρώτα το συμπέρασμα, για όποιον βαριέται να διαβάσει το υπόλοιπο κείμενο:">

  <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css"
    integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/static/css/zindilis.com.css">
  <link rel="canonical" href="https://zindilis.com/blog/2011/03/16/%CE%B1%CF%80%CE%BF%CE%B8%CE%AE%CE%BA%CE%B5%CF%85%CF%83%CE%B7-%CF%84%CE%B7%CE%BB%CE%B5%CF%86%CF%89%CE%BD%CE%B9%CE%BA%CF%8E%CE%BD-%CE%B1%CF%81%CE%B9%CE%B8%CE%BC%CF%8E%CE%BD-%CF%83%CE%B5-mysql.el.html">
  <link rel="alternate" type="application/rss+xml" title="Marios Zindilis" href="https://zindilis.com/feed.xml">
  
<meta property="og:title" content="Αποθήκευση τηλεφωνικών αριθμών σε MySQL">
<meta property="og:type" content="website">

<!--


  42. 

  43. blog

  44. 2011

  45. 03

  46. 16

  47. %CE%B1%CF%80%CE%BF%CE%B8%CE%AE%CE%BA%CE%B5%CF%85%CF%83%CE%B7-%CF%84%CE%B7%CE%BB%CE%B5%CF%86%CF%89%CE%BD%CE%B9%CE%BA%CF%8E%CE%BD-%CE%B1%CF%81%CE%B9%CE%B8%CE%BC%CF%8E%CE%BD-%CF%83%CE%B5-mysql.el.html

-->

</head>


<body style="padding-top:5rem;">
  <header class="site-header">
  <nav class="navbar navbar-fixed-top" style="border-bottom: 1px solid; background-color: white;">
    <div class="container">
      <a class="navbar-brand fload-md-left float-xs-none" href="/">Marios Zindilis</a>
      <ul class="nav navbar-nav float-md-right">
        <li class="nav-item">
          <a class="nav-link" href="/docs/">Docs</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/projects/">Projects</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about/">About</a>
        </li>
      </ul>
    </div>
  </nav>
</header>



    <div class="container">

    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Αποθήκευση τηλεφωνικών αριθμών σε MySQL</h1>
    <p class="post-meta"><time datetime="2011-03-16T00:00:00+00:00" itemprop="datePublished">Mar 16, 2011</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>Γράφω πρώτα το συμπέρασμα, για όποιον βαριέται να διαβάσει το υπόλοιπο κείμενο:</p>

<blockquote>Αποθηκεύστε τους τηλεφωνικούς αριθμούς ως <code>VARCHAR(20)</code>, εκτός και αν υπάρχει σημαντικός λόγος γιατί να κάνετε κάτι διαφορετικό. Επιπλέον, χρησιμοποιήστε κώδικα σε επίπεδο εφαρμογής για 2 ενέργειες: Α. για να αφαιρέσετε από την είσοδο του χρήστη οποιουσδήποτε μη αριθμητικούς χαρακτήρες, πριν από την εισαγωγή στη βάση (π.χ. παύλες, κενά, παρενθέσεις), και Β. για να μορφοποιήσετε τον αριθμό με μη αριθμητικούς χαρακτήρες, πριν από την έξοδο στο χρήστη, ώστε να βελτιώσετε την αναγνωσιμότητα (π.χ. με παύλες, κενά, παρενθέσεις).</blockquote>

<p>Κατ’ αρχήν, το <strong>μήκος=20</strong> προέρχεται από τη <a href="http://en.wikipedia.org/wiki/E.164" title="E.164 Recommendation"> σύσταση Ε.164 του ITU-T</a>, η οποία καθορίζει το μέγιστο μήκος των τηλεφωνικών αριθμών σε 15 αριθμητικούς χαρακτήρες, μη συμπεριλαμβανομένου του <a href="http://en.wikipedia.org/wiki/International_call_prefix" title="Λίστα με τα προθέματα διεθνών κλήσεων">προθέματος διεθνούς κλήσης</a>, το μέγιστο από τα οποία είναι 5 χαρακτήρες.</p>

<p>Ο λόγος που προτείνω το <strong>VARCHAR</strong> αντί κάποιου αριθμητικού τύπου της MySQL είναι γιατί:</p>
<ol><li>Οι τηλεφωνικοί αριθμοί, δεν λογίζονται ως ακέραιοι, με την έννοια ότι:<ul><li>δεν πρόκειται ποτέ να εκτελέσετε πάνω τους αριθμητικές πράξεις, και</li><li>δεν έχει νόημα η ταξινόμησή τους κατά μέγεθος, δηλαδή δεν νοείται «μεγαλύτερος» και «μικρότερος» αριθμός τηλεφώνου.</li></ul><li>Σε μερικές χώρες, ένας τοπικός αριθμός τηλεφώνου μπορεί να ξεκινάει από μηδέν. Μερικές (ή όλες;) μηχανές αποθήκευσης στη MySQL θα αποκόψουν τα μηδενικά που προηγούνται ενός αριθμού, όταν αυτός αποθηκεύεται ως ακέραιος.</li><li>Τέλος, η διαφορά στο μέγεθος της τελικής αποθηκευμένης πληροφορίας, είναι ασήμαντη, για τόσο μικρά κομμάτια πληροφορίας.</li>

Χρησιμοποιώντας VARCHAR(20) για αποθήκευση τηλεφωνικών αριθμών, <strong>υποχρεωτικά</strong> θα χρησιμοποιήσετε επιπλεόν κώδικα σε επίπεδο εφαρμογής για να καθαρίσετε την είσοδο του χρήστη από μη αριθμητικούς χαρακτήρες (αλλιώς μπορεί να ξεφύγει στο μήκος), και <strong>προεραιτικά</strong> για να ομορφύνετε τον τηλεφωνικό αριθμό στην έξοδο.

Σημειώστε ότι, παρόμοιο σκεπτικό ισχύει και την αποθήκευση Ταχυδρομικού Κώδικα, πόσω μάλλον που μερικές χώρες (π.χ. Ηνωμένο Βασίλειο, Καναδάς) χρησιμοποιούν και γράμματα του αλφαβήτου στους Τ.Κ.
</li></ol>

  </div>

</article>

      </div>
    </div>


    </div>


  <!--footer id="site-footer">
  <div class="container">


  </div>
</footer-->

<footer id="site-footer" class="footer-distributed">
  <div class="container">
            <div class="footer-right">
                <a href="/feed.xml"><i class="fa fa-rss"></i></a>
                <a href="https://www.facebook.com/zindilis"><i class="fa fa-facebook"></i></a>
                <a href="https://twitter.com/MariosZindilis"><i class="fa fa-twitter"></i></a>
                <a href="https://www.linkedin.com/in/zindilis"><i class="fa fa-linkedin"></i></a>
                <a href="https://github.com/marios-zindilis"><i class="fa fa-github"></i></a>
            </div>

            <div class="footer-left">
                <p class="footer-links">
                    <a href="/">Home</a> · 
                    <a href="/docs/">Docs</a> ·
                    <a href="/projects/">Projects</a> ·
                    <a href="/about/">About</a>
                </p>
                <p>Marios Zindilis</p>
            </div>
  </div>
</footer>


    <script
      src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"
      integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7"
      crossorigin="anonymous"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js"
      integrity="sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8"
      crossorigin="anonymous"></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js"
      integrity="sha384-BLiI7JTZm+JWlgKa0M0kGRpJbF2J8q+qreVrKBC47e3K6BW78kGLrCkeRX6I9RoK"
      crossorigin="anonymous"></script>
    <script type="text/javascript">
      // set padding-bottom of body to height of footer.site-footer:
      document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      // http://stackoverflow.com/a/14570614
      var observeDOM = (function(){
        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver,
          eventListenerSupported = window.addEventListener;

        return function(obj, callback){
          if( MutationObserver ){
          // define a new observer
            var obs = new MutationObserver(function(mutations, observer){
              if( mutations[0].addedNodes.length || mutations[0].removedNodes.length )
              callback();
            });
            // have the observer observe foo for changes in children
            obs.observe( obj, { childList:true, subtree:true });
          }
          else if( eventListenerSupported ){
            obj.addEventListener('DOMNodeInserted', callback, false);
            obj.addEventListener('DOMNodeRemoved', callback, false);
          }
        }
      })();
      observeDOM(document.getElementById('site-footer') ,function(){
        document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      });
    </script>
  </body>
</html>
