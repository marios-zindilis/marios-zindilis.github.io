<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Marios Zindilis - Γιατί το WordPress δεν παίζεται #1</title>
  <meta name="description" content="Ή αλλιώς, πώς να φτιάξετε έναν φάκελο με αρχεία για κατέβασμα από το ιστολόγιό σας.">

  <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css"
    integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/static/css/zindilis.com.css">
  <link rel="canonical" href="https://zindilis.com/blog/2011/03/22/%CE%B3%CE%B9%CE%B1%CF%84%CE%AF-%CF%84%CE%BF-wordpress-%CE%B4%CE%B5%CE%BD-%CF%80%CE%B1%CE%AF%CE%B6%CE%B5%CF%84%CE%B1%CE%B9-1.el.html">
  <link rel="alternate" type="application/rss+xml" title="Marios Zindilis" href="https://zindilis.com/feed.xml">
</head>

<body style="padding-top:5rem;">
  <header class="site-header">
  <nav class="navbar navbar-fixed-top" style="border-bottom: 1px solid; background-color: white;">
    <div class="container">
      <a class="navbar-brand fload-md-left float-xs-none" href="/">Marios Zindilis</a>
      <ul class="nav navbar-nav float-md-right">
        <li class="nav-item">
          <a class="nav-link" href="/docs/">Docs</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/projects/">Projects</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about/">About</a>
        </li>
      </ul>
    </div>
  </nav>
</header>



    <div class="container">

    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Γιατί το WordPress δεν παίζεται #1</h1>
    <p class="post-meta"><time datetime="2011-03-22T00:00:00+00:00" itemprop="datePublished">Mar 22, 2011</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <h3>Ή αλλιώς, πώς να φτιάξετε έναν φάκελο με αρχεία για κατέβασμα από το ιστολόγιό σας.</h3>

<p>Για να δημιουργήσετε έναν υποφάκελο με αρχεία προς κατέβασμα από το ιστολόγιό σας, φτιάξτε τον υποφάκελο στον εξυπηρετητή, και προσθέστε αυτούσιο ή προσαρμοσμένο το εξής αρχείο ως <code class="highlighter-rouge">index.php</code>:</p>

<figure class="highlight"><pre><code class="language-php" data-lang="php"><span class="cp">&lt;?php</span>
<span class="nb">define</span><span class="p">(</span><span class="s1">'WP_USE_THEMES'</span><span class="p">,</span> <span class="kc">false</span><span class="p">);</span>
<span class="c1">// Αλλάξτε την πιο κάτω γραμμή αν χρειάζεται, 
// για να δείχνει την πραγματική τοποθεσία του αρχείου
</span><span class="k">require</span><span class="p">(</span><span class="s1">'../wp-blog-header.php'</span><span class="p">);</span>

<span class="nx">get_header</span><span class="p">();</span> 

  <span class="k">if</span> <span class="p">(</span><span class="nv">$handle</span> <span class="o">=</span> <span class="nb">opendir</span><span class="p">(</span><span class="s1">'./'</span><span class="p">))</span> <span class="p">{</span>
      <span class="k">echo</span><span class="p">(</span><span class="s1">'&lt;ul&gt;'</span><span class="p">);</span>
      <span class="c1">// Μπορείτε να προσθέσετε κι άλλα αρχεία στο array,
</span>      <span class="c1">// αν δεν θέλετε να εμφανίζονται στη λίστα αρχείων
</span>      <span class="nv">$briki_filename_exceptions</span> <span class="o">=</span> <span class="k">array</span><span class="p">(</span><span class="s1">'.'</span><span class="p">,</span><span class="s1">'..'</span><span class="p">,</span><span class="s1">'index.php'</span><span class="p">);</span>
      <span class="cm">/* This is the correct way to loop over the directory. */</span>
      <span class="k">while</span> <span class="p">(</span><span class="kc">false</span> <span class="o">!==</span> <span class="p">(</span><span class="nv">$file</span> <span class="o">=</span> <span class="nb">readdir</span><span class="p">(</span><span class="nv">$handle</span><span class="p">)))</span> <span class="p">{</span>
          <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nb">in_array</span><span class="p">(</span><span class="nv">$file</span><span class="p">,</span> <span class="nv">$briki_filename_exceptions</span><span class="p">))</span> <span class="p">{</span>
            <span class="k">echo</span><span class="p">(</span><span class="s1">'&lt;li&gt;&lt;a href="'</span><span class="o">.</span><span class="nv">$file</span><span class="o">.</span><span class="s1">'"&gt;'</span><span class="o">.</span><span class="nv">$file</span><span class="o">.</span><span class="s1">'&lt;/li&gt;'</span><span class="p">);</span>
          <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">echo</span><span class="p">(</span><span class="s1">'&lt;/ul&gt;'</span><span class="p">);</span>
      <span class="nb">closedir</span><span class="p">(</span><span class="nv">$handle</span><span class="p">);</span>
  <span class="p">}</span>
<span class="nx">get_footer</span><span class="p">();</span> <span class="cp">?&gt;</span></code></pre></figure>

<p>Αν έχετε <code class="highlighter-rouge">.htaccess</code> στο ιστολόγιό σας, ίσως χρειάζεται να το 
τροποιήσετε για να μην συμπεριλαμβάνει τον νέο σας υποφάκελο, 
δείτε και την προηγούμενη δημοσίευση για αυτό το θέμα. Μπορείτε 
επίσης να περιορίσετε την εμφάνιση της λίστας αρχείων σε 
συνδεδεμένους χρήστες (επίσης και αυτό αναφέρεται στην προηγούμενη 
δημοσίευση) με χρήση της συνάρτησης του WordPress: <code class="highlighter-rouge">if ( is_user_logged_in() )</code>, 
αλλά αυτό δεν θα εμποδίσει κάποιον να κατεβάσει αρχεία αν έχει κατ’ 
ευθείαν σύνδεσμο πάνω σε συγκεκριμένο αρχείο. Για το σκοπό αυτό, 
χρειάζεστε επιπλέον προστασία, π.χ. με <code class="highlighter-rouge">.htaccess</code>.</p>

<h2 id="section">Δείτε επίσης</h2>

<p>Δύο ακόμα άρθρα σε αυτή τη σειρά:</p>

<ol>
  <li><a href="/blog/2011/03/12/γιατί-το-wordpress-δεν-παίζεται-0.el.html">Γιατί το WordPress δεν παίζεται #0</a></li>
  <li><a href="/blog/2011/03/22/γιατί-το-wordpress-δεν-παίζεται-2.el.html">Γιατί το WordPress δεν παίζεται #2</a></li>
</ol>

  </div>

</article>

      </div>
    </div>


    </div>


  <!--footer id="site-footer">
  <div class="container">


  </div>
</footer-->

<footer id="site-footer" class="footer-distributed">
  <div class="container">
            <div class="footer-right">
                <a href="https://www.facebook.com/zindilis"><i class="fa fa-facebook"></i></a>
                <a href="https://twitter.com/MariosZindilis"><i class="fa fa-twitter"></i></a>
                <a href="https://www.linkedin.com/in/zindilis"><i class="fa fa-linkedin"></i></a>
                <a href="https://github.com/marios-zindilis"><i class="fa fa-github"></i></a>
            </div>

            <div class="footer-left">
                <p class="footer-links">
                    <a href="/">Home</a> · 
                    <a href="/docs/">Docs</a> ·
                    <a href="/projects/">Projects</a> ·
                    <a href="/about/">About</a>
                </p>
                <p>Marios Zindilis</p>
            </div>
  </div>
</footer>


    <script
      src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"
      integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7"
      crossorigin="anonymous"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js"
      integrity="sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8"
      crossorigin="anonymous"></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js"
      integrity="sha384-BLiI7JTZm+JWlgKa0M0kGRpJbF2J8q+qreVrKBC47e3K6BW78kGLrCkeRX6I9RoK"
      crossorigin="anonymous"></script>
    <script type="text/javascript">
      // set padding-bottom of body to height of footer.site-footer:
      document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      // http://stackoverflow.com/a/14570614
      var observeDOM = (function(){
        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver,
          eventListenerSupported = window.addEventListener;

        return function(obj, callback){
          if( MutationObserver ){
          // define a new observer
            var obs = new MutationObserver(function(mutations, observer){
              if( mutations[0].addedNodes.length || mutations[0].removedNodes.length )
              callback();
            });
            // have the observer observe foo for changes in children
            obs.observe( obj, { childList:true, subtree:true });
          }
          else if( eventListenerSupported ){
            obj.addEventListener('DOMNodeInserted', callback, false);
            obj.addEventListener('DOMNodeRemoved', callback, false);
          }
        }
      })();
      observeDOM(document.getElementById('site-footer') ,function(){
        document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      });
    </script>
  </body>
</html>
