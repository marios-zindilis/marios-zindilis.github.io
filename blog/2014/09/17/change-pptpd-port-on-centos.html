<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>Marios Zindilis - Change pptpd port on CentOS</title>
  <meta name="description" content="How to change pptpd listening port on CentOS">
  <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css"
    integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/static/css/zindilis.com.css">
  <link rel="canonical" href="https://zindilis.com/blog/2014/09/17/change-pptpd-port-on-centos.html">
  <link rel="alternate" type="application/rss+xml" title="Marios Zindilis" href="https://zindilis.com/feed.xml">
  
  <meta property="og:title" content="Change pptpd port on CentOS">


  <meta property="og:type" content="article">

  <meta property="og:article:published_time" content="2014-09-17">


  <meta property="og:article:modified_time" content="2014-09-20">




  <meta property="og:description" content="How to change pptpd listening port on CentOS">


</head>


<body>
  <header class="mb-4">
  <nav class="navbar navbar-expand-md navbar-dark bg-dark">
    <div class="container">
      <a class="navbar-brand" href="/">Marios Zindilis</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-link-items" aria-controls="navbar-link-items" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbar-link-items">
        <div class="navbar-nav ml-auto">
          <a class="nav-item nav-link" style="color:white" href="/docs/">Docs</a>
          <a class="nav-item nav-link" style="color:white" href="/projects/">Projects</a>
          <a class="nav-item nav-link" style="color:white" href="/about/">About</a>
        </div>
      </div>
    </div>
  </nav>
</header>


  <div class="container">
        <article itemscope itemtype="http://schema.org/BlogPosting">

  <header>
    <h1 itemprop="name headline">Change pptpd port on CentOS</h1>
    <p class="post-meta">
      <time datetime="2014-09-17T00:00:00+01:00" itemprop="datePublished">2014-09-17</time>
      • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Marios Zindilis</span></span>
    </p>
  </header>

  <section itemprop="articleBody">
    <p>I was testing Point-to-Point Tunneling today, between a CentOS 6 server running 
<code>pptpd</code>, and some Mikrotik routers as the clients, and I wanted to change the 
listening port on the <code>pptpd</code> side. After searching and reading a bit of 
documentation for a while, I was surprised to find that <code>pptpd</code> respects the 
record for <code>pptp</code> as defined in <code>/etc/services</code>.</p>

<p>Therefore, to change the port on which <code>pptpd</code> listens, change the following 
two lines:</p>
<div class="highlight"><pre><code class="language-" data-lang="">pptp            1723/tcp                # pptp
pptp            1723/udp                # pptp
</code></pre></div>
<p>...from the default 1723 to whatever you want, and restart the <code>pptpd</code> service. </p>

<p>Just in case, if you want to use a port that is already defined differently in 
<code>/etc/services</code>, you might comment out the default entries to avoid confusion. 
In my case, I used port 1821, so I commented out all the following lines:</p>
<div class="highlight"><pre><code class="language-" data-lang=""># pptp            1723/tcp                # pptp
# pptp            1723/udp                # pptp
# donnyworld      1821/tcp                # donnyworld
# donnyworld      1821/udp                # donnyworld
</code></pre></div>
<p>...and added:</p>
<div class="highlight"><pre><code class="language-" data-lang="">pptp            1821/tcp                # pptp
pptp            1821/udp                # pptp
</code></pre></div>
<h2>A bit more on <code>/etc/services</code></h2>

<p>Quoting the <code>man</code> page for <code>services</code>:</p>

<blockquote>
<p><strong>services</strong>  is  a  plain ASCII file providing a mapping between 
human-friendly textual names for internet services, and their underlying 
assigned port numbers and protocol types.  Every networking program should 
look into this file to get the port number (and protocol) for its service.</p>
</blockquote>

<p>So, <code>pptpd</code> is actually doing the right thing here, looking at this file to 
find its port. I wonder which other servers do the same thing.</p>

  </section>

  <footer id="post-footer">
  
    First Published: <time datetime="2014-09-17T00:00:00+01:00" itemprop="datePublished">2014-09-17</time>
  
  
    &middot; Last modified: <span itemprop="dateModified">2014-09-20</span>
  
  
    &middot; License: <a href="https://creativecommons.org/licenses/by-sa/4.0/" itemprop="license" title="Creative Commons Attribution-ShareAlike 4.0 International">CC-BY-SA-4.0</a>
  
  </footer>

</article>

  </div>

  <footer id="site-footer" class="footer-distributed">
  <div class="container">
    <div class="footer-right">
      <a href="/feed.xml" title="Marios Zindilis RSS Feed">
        <i class="fa fa-rss" aria-hidden="true"></i><span class="sr-only">Marios Zindilis RSS Feed</span></a>
      <a href="https://www.linkedin.com/in/zindilis" title="Marios Zindilis LinkedIn Profile">
        <i class="fa fa-linkedin" aria-hidden="true"></i><span class="sr-only">Marios Zindilis LinkedIn Profile</span></a>
      <a href="https://github.com/marios-zindilis" title="Marios Zindilis GitHub Page">
        <i class="fa fa-github" aria-hidden="true"></i><span class="sr-only">Marios Zindilis GitHub Page</span></a>
    </div>

    <div class="footer-left">
      <p class="footer-links">
        <a href="/">Home</a> · 
        <a href="/docs/">Docs</a> ·
        <a href="/projects/">Projects</a> ·
        <a href="/about/">About</a>
      </p>
      <p>Marios Zindilis</p>
    </div>
  </div>
</footer>

  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>
    <script type="text/javascript">
      // set padding-bottom of body to height of footer.site-footer:
      document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      // http://stackoverflow.com/a/14570614
      var observeDOM = (function(){
        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver,
          eventListenerSupported = window.addEventListener;

        return function(obj, callback){
          if( MutationObserver ){
          // define a new observer
            var obs = new MutationObserver(function(mutations, observer){
              if( mutations[0].addedNodes.length || mutations[0].removedNodes.length )
              callback();
            });
            // have the observer observe foo for changes in children
            obs.observe( obj, { childList:true, subtree:true });
          }
          else if( eventListenerSupported ){
            obj.addEventListener('DOMNodeInserted', callback, false);
            obj.addEventListener('DOMNodeRemoved', callback, false);
          }
        }
      })();
      observeDOM(document.getElementById('site-footer') ,function(){
        document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      });
    </script>


  </body>
</html>
