<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>Marios Zindilis - Change pptpd port on CentOS</title>
  <meta name="description" content="I was testing Point-to-Point Tunneling today, between a CentOS 6 server running pptpd, and some Mikrotik routers as the clients, and I wanted to change the l...">

  <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css"
    integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi"
    crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="/static/css/zindilis.com.css">
  <link rel="canonical" href="https://zindilis.com/blog/2014/09/17/change-pptpd-port-on-centos.html">
  <link rel="alternate" type="application/rss+xml" title="Marios Zindilis" href="https://zindilis.com/feed.xml">
</head>

<body style="padding-top:5rem;">
  <header class="site-header">
  <nav class="navbar navbar-fixed-top" style="border-bottom: 1px solid; background-color: white;">
    <div class="container">
      <a class="navbar-brand fload-md-left float-xs-none" href="/">Marios Zindilis</a>
      <ul class="nav navbar-nav float-md-right">
        <li class="nav-item">
          <a class="nav-link" href="/docs/">Docs</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/projects/">Projects</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="/about/">About</a>
        </li>
      </ul>
    </div>
  </nav>
</header>



    <div class="container">

    <div class="page-content">
      <div class="wrapper">
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title" itemprop="name headline">Change pptpd port on CentOS</h1>
    <p class="post-meta"><time datetime="2014-09-17T00:00:00+01:00" itemprop="datePublished">Sep 17, 2014</time></p>
  </header>

  <div class="post-content" itemprop="articleBody">
    <p>I was testing Point-to-Point Tunneling today, between a CentOS 6 server running 
<code class="highlighter-rouge">pptpd</code>, and some Mikrotik routers as the clients, and I wanted to change the 
listening port on the <code class="highlighter-rouge">pptpd</code> side. After searching and reading a bit of 
documentation for a while, I was surprised to find that <code class="highlighter-rouge">pptpd</code> respects the 
record for <code class="highlighter-rouge">pptp</code> as defined in <code class="highlighter-rouge">/etc/services</code>.</p>

<p>Therefore, to change the port on which <code class="highlighter-rouge">pptpd</code> listens, change the following 
two lines:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pptp            1723/tcp                # pptp
pptp            1723/udp                # pptp
</code></pre>
</div>

<p>…from the default 1723 to whatever you want, and restart the <code class="highlighter-rouge">pptpd</code> service.</p>

<p>Just in case, if you want to use a port that is already defined differently in 
<code class="highlighter-rouge">/etc/services</code>, you might comment out the default entries to avoid confusion. 
In my case, I used port 1821, so I commented out all the following lines:</p>

<div class="highlighter-rouge"><pre class="highlight"><code># pptp            1723/tcp                # pptp
# pptp            1723/udp                # pptp
# donnyworld      1821/tcp                # donnyworld
# donnyworld      1821/udp                # donnyworld
</code></pre>
</div>

<p>…and added:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>pptp            1821/tcp                # pptp
pptp            1821/udp                # pptp
</code></pre>
</div>

<h2 id="a-bit-more-on-etcservices">A bit more on <code class="highlighter-rouge">/etc/services</code></h2>

<p>Quoting the <code class="highlighter-rouge">man</code> page for <code class="highlighter-rouge">services</code>:</p>

<blockquote>
  <p><strong>services</strong>  is  a  plain ASCII file providing a mapping between 
human-friendly textual names for internet services, and their underlying 
assigned port numbers and protocol types.  Every networking program should 
look into this file to get the port number (and protocol) for its service.</p>
</blockquote>

<p>So, <code class="highlighter-rouge">pptpd</code> is actually doing the right thing here, looking at this file to 
find its port. I wonder which other servers do the same thing.</p>

  </div>

</article>

      </div>
    </div>


    </div>


  <!--footer id="site-footer">
  <div class="container">


  </div>
</footer-->

<footer id="site-footer" class="footer-distributed">
  <div class="container">
            <div class="footer-right">
                <a href="https://www.facebook.com/zindilis"><i class="fa fa-facebook"></i></a>
                <a href="https://twitter.com/MariosZindilis"><i class="fa fa-twitter"></i></a>
                <a href="https://www.linkedin.com/in/zindilis"><i class="fa fa-linkedin"></i></a>
                <a href="https://github.com/marios-zindilis"><i class="fa fa-github"></i></a>
            </div>

            <div class="footer-left">
                <p class="footer-links">
                    <a href="/">Home</a> · 
                    <a href="/docs/">Docs</a> ·
                    <a href="/projects/">Projects</a> ·
                    <a href="/about/">About</a>
                </p>
                <p>Marios Zindilis</p>
            </div>
  </div>
</footer>


    <script
      src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"
      integrity="sha384-3ceskX3iaEnIogmQchP8opvBy3Mi7Ce34nWjpBIwVTHfGYWQS9jwHDVRnpKKHJg7"
      crossorigin="anonymous"></script>
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.3.7/js/tether.min.js"
      integrity="sha384-XTs3FgkjiBgo8qjEjBk0tGmf3wPrWtA6coPfQDfFEY8AnYJwjalXCiosYRBIBZX8"
      crossorigin="anonymous"></script>
    <script
      src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/js/bootstrap.min.js"
      integrity="sha384-BLiI7JTZm+JWlgKa0M0kGRpJbF2J8q+qreVrKBC47e3K6BW78kGLrCkeRX6I9RoK"
      crossorigin="anonymous"></script>
    <script type="text/javascript">
      // set padding-bottom of body to height of footer.site-footer:
      document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      // http://stackoverflow.com/a/14570614
      var observeDOM = (function(){
        var MutationObserver = window.MutationObserver || window.WebKitMutationObserver,
          eventListenerSupported = window.addEventListener;

        return function(obj, callback){
          if( MutationObserver ){
          // define a new observer
            var obs = new MutationObserver(function(mutations, observer){
              if( mutations[0].addedNodes.length || mutations[0].removedNodes.length )
              callback();
            });
            // have the observer observe foo for changes in children
            obs.observe( obj, { childList:true, subtree:true });
          }
          else if( eventListenerSupported ){
            obj.addEventListener('DOMNodeInserted', callback, false);
            obj.addEventListener('DOMNodeRemoved', callback, false);
          }
        }
      })();
      observeDOM(document.getElementById('site-footer') ,function(){
        document.body.style.marginBottom = document.getElementById("site-footer").clientHeight + "px";
      });
    </script>
  </body>
</html>
